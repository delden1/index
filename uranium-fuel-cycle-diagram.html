<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Uranium Fuel Cycle - Interactive Flow Diagram</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(180deg, #0a0a14 0%, #12121f 50%, #0a0a14 100%);
            color: #fff;
            min-height: 100vh;
            padding: 24px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .header h1 {
            font-size: 32px;
            font-weight: 900;
            background: linear-gradient(90deg, #4169E1 0%, #9932CC 50%, #DC143C 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }
        
        .header p {
            color: #888;
            font-size: 14px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 16px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, #FF6B00 0%, #FFA500 100%);
            color: #fff;
        }
        
        .btn-secondary {
            background: transparent;
            border: 1px solid #444;
            color: #888;
        }
        
        .borssele-banner {
            background: linear-gradient(90deg, rgba(255,165,0,0.1) 0%, rgba(255,100,0,0.05) 100%);
            border: 1px solid rgba(255,165,0,0.3);
            border-radius: 12px;
            padding: 16px 24px;
            margin-bottom: 24px;
            display: flex;
            flex-wrap: wrap;
            gap: 24px;
            align-items: center;
        }
        
        .borssele-banner h3 {
            color: #FFA500;
            font-size: 16px;
            margin-bottom: 4px;
        }
        
        .borssele-banner p {
            color: #ffcc80;
            font-size: 12px;
        }
        
        .stats-row {
            display: flex;
            gap: 32px;
            flex-wrap: wrap;
        }
        
        .stat-item label {
            color: #888;
            font-size: 10px;
            display: block;
        }
        
        .stat-item span {
            color: #fff;
            font-size: 14px;
            font-weight: 700;
        }
        
        .section-labels {
            display: flex;
            justify-content: space-around;
            margin-bottom: 12px;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .section-label {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        .section-frontend { background: #4169E120; border: 1px solid #4169E150; color: #4169E1; }
        .section-reactor { background: #FF634720; border: 1px solid #FF634750; color: #FF6347; }
        .section-backend { background: #228B2220; border: 1px solid #228B2250; color: #228B22; }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 16px;
        }
        
        @media (max-width: 900px) {
            .grid { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 500px) {
            .grid { grid-template-columns: 1fr; }
        }
        
        .stage-card {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 2px solid #333;
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 140px;
        }
        
        .stage-card:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 32px rgba(100,100,200,0.2);
        }
        
        .stage-card.active {
            border-color: var(--stage-color);
            box-shadow: 0 8px 32px var(--stage-shadow);
        }
        
        .stage-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        
        .stage-icon {
            font-size: 24px;
        }
        
        .stage-title {
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        
        .stage-output {
            font-size: 11px;
            color: #888;
            line-height: 1.4;
        }
        
        .borssele-note {
            margin-top: 8px;
            padding: 6px 8px;
            background: rgba(255,165,0,0.15);
            border-radius: 6px;
            border-left: 3px solid #FFA500;
        }
        
        .borssele-note p {
            font-size: 10px;
            color: #FFA500;
            font-weight: 600;
        }
        
        .flow-arrows {
            display: flex;
            justify-content: space-around;
            padding: 8px 60px;
            font-size: 12px;
            color: #4169E1;
        }
        
        .flow-arrows.green { color: #228B22; }
        
        .detail-panel {
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 100%);
            border: 2px solid #4169E1;
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
            display: none;
        }
        
        .detail-panel.active {
            display: block;
        }
        
        .detail-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .detail-icon {
            font-size: 36px;
        }
        
        .detail-title {
            font-size: 24px;
            font-weight: 800;
        }
        
        .detail-subtitle {
            color: #888;
            font-size: 14px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .info-section {
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            padding: 14px;
        }
        
        .info-section h4 {
            font-size: 13px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .info-section ul {
            list-style: none;
            padding: 0;
        }
        
        .info-section li {
            color: #ccc;
            font-size: 12px;
            margin-bottom: 6px;
            padding-left: 12px;
            position: relative;
        }
        
        .info-section li::before {
            content: 'â€¢';
            position: absolute;
            left: 0;
        }
        
        .key-details {
            margin-top: 20px;
            padding: 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
        }
        
        .key-details h4 {
            color: #fff;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .key-details p {
            color: #ccc;
            font-size: 13px;
            line-height: 1.6;
        }
        
        .borssele-detail {
            margin-top: 16px;
            padding: 16px;
            background: linear-gradient(135deg, rgba(255,165,0,0.1) 0%, rgba(255,140,0,0.05) 100%);
            border-radius: 12px;
            border: 1px solid rgba(255,165,0,0.3);
        }
        
        .borssele-detail h4 {
            color: #FFA500;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .borssele-detail p {
            color: #ffcc80;
            font-size: 13px;
            line-height: 1.6;
        }
        
        .cost-breakdown {
            margin-top: 32px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #333;
        }
        
        .cost-breakdown h3 {
            color: #fff;
            font-size: 18px;
            margin-bottom: 16px;
        }
        
        .cost-bar {
            display: flex;
            height: 40px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .cost-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 700;
            color: #fff;
            border-right: 2px solid #0a0a14;
        }
        
        .cost-segment:last-child {
            border-right: none;
        }
        
        .cost-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .cost-labels span {
            font-size: 11px;
            font-weight: 600;
        }
        
        .cost-note {
            margin-top: 16px;
            color: #888;
            font-size: 12px;
        }
        
        .stat-cards {
            margin-top: 24px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid #333;
        }
        
        .stat-card .icon {
            font-size: 24px;
        }
        
        .stat-card .value {
            color: #fff;
            font-size: 24px;
            font-weight: 800;
            margin: 8px 0 4px;
        }
        
        .stat-card .label {
            color: #888;
            font-size: 11px;
        }
        
        .footer {
            margin-top: 32px;
            padding: 20px;
            background: rgba(255,255,255,0.02);
            border-radius: 12px;
            text-align: center;
        }
        
        .footer p {
            color: #666;
            font-size: 11px;
        }
        
        .footer p:last-child {
            color: #888;
            font-size: 12px;
            margin-top: 8px;
        }
        
        .legend {
            margin-top: 24px;
            padding: 16px;
            background: rgba(255,255,255,0.02);
            border-radius: 12px;
            border: 1px solid #333;
        }
        
        .legend h4 {
            color: #fff;
            font-size: 14px;
            margin-bottom: 12px;
        }
        
        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .legend-text {
            font-size: 12px;
            color: #ccc;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>âš›ï¸ COMPLETE URANIUM FUEL CYCLE</h1>
        <p>From Mine to Power Plant to Waste Disposal â€¢ Interactive Flow Diagram</p>
        <div class="controls">
            <button class="btn btn-primary" onclick="toggleBorssele()">ğŸ‡³ğŸ‡± Toggle Borssele Case Study</button>
            <button class="btn btn-secondary" onclick="closeDetails()">Reset View</button>
        </div>
    </div>

    <div id="borssele-banner" class="borssele-banner">
        <div>
            <h3>ğŸ‡³ğŸ‡± Borssele Nuclear Power Plant</h3>
            <p>Netherlands' only operating nuclear reactor â€¢ PWR 485 MWe â€¢ Operational since 1973</p>
        </div>
        <div class="stats-row">
            <div class="stat-item"><label>Capacity</label><span>485 MW</span></div>
            <div class="stat-item"><label>Output</label><span>~4% of NL electricity</span></div>
            <div class="stat-item"><label>Capacity Factor</label><span>~90%</span></div>
            <div class="stat-item"><label>License Until</label><span>2033*</span></div>
            <div class="stat-item"><label>Operator</label><span>EPZ</span></div>
        </div>
    </div>

    <div class="section-labels">
        <span class="section-label section-frontend">FRONT END</span>
        <span class="section-label section-reactor">REACTOR</span>
        <span class="section-label section-backend">BACK END</span>
    </div>

    <!-- Row 1: Front End -->
    <div class="grid">
        <div class="stage-card" style="--stage-color: #8B4513; --stage-shadow: rgba(139,69,19,0.4)" onclick="showDetails('mining')">
            <div class="stage-header">
                <span class="stage-icon">â›ï¸</span>
                <span class="stage-title" style="color: #8B4513">URANIUM MINING</span>
            </div>
            <p class="stage-output">Yellowcake (Uâ‚ƒOâ‚ˆ)</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± Kazakhstan (Kazatomprom) primary source</p>
            </div>
        </div>
        
        <div class="stage-card" style="--stage-color: #2E8B57; --stage-shadow: rgba(46,139,87,0.4)" onclick="showDetails('conversion')">
            <div class="stage-header">
                <span class="stage-icon">ğŸ”¬</span>
                <span class="stage-title" style="color: #2E8B57">CONVERSION</span>
            </div>
            <p class="stage-output">Uranium Hexafluoride (UFâ‚†)</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± Orano facility in France (Tricastin)</p>
            </div>
        </div>
        
        <div class="stage-card" style="--stage-color: #4169E1; --stage-shadow: rgba(65,105,225,0.4)" onclick="showDetails('enrichment')">
            <div class="stage-header">
                <span class="stage-icon">âš›ï¸</span>
                <span class="stage-title" style="color: #4169E1">ENRICHMENT</span>
            </div>
            <p class="stage-output">LEU (3-5% U-235)</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± Urenco Almelo (100km from Borssele)</p>
            </div>
        </div>
        
        <div class="stage-card" style="--stage-color: #9932CC; --stage-shadow: rgba(153,50,204,0.4)" onclick="showDetails('fabrication')">
            <div class="stage-header">
                <span class="stage-icon">ğŸ”§</span>
                <span class="stage-title" style="color: #9932CC">FUEL FABRICATION</span>
            </div>
            <p class="stage-output">Fuel Assemblies (PWR: 121 per core)</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± Framatome (France) - PWR & MOX fuel</p>
            </div>
        </div>
    </div>

    <div class="flow-arrows">
        <span>â†“ Uâ‚ƒOâ‚ˆ</span>
        <span>â†“ UFâ‚†</span>
        <span>â†“ Enriched UFâ‚†</span>
        <span>â†“ Fuel Assemblies</span>
    </div>

    <!-- Row 2: Trading, Power, Storage, Reprocessing -->
    <div class="grid">
        <div class="stage-card" style="--stage-color: #DAA520; --stage-shadow: rgba(218,165,32,0.4)" onclick="showDetails('trading')">
            <div class="stage-header">
                <span class="stage-icon">ğŸ“Š</span>
                <span class="stage-title" style="color: #DAA520">URANIUM MARKET</span>
            </div>
            <p class="stage-output">Spot + Long-term Contracts</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± Diversified long-term contracts</p>
            </div>
        </div>
        
        <div class="stage-card" style="--stage-color: #FF6347; --stage-shadow: rgba(255,99,71,0.4)" onclick="showDetails('power')">
            <div class="stage-header">
                <span class="stage-icon">âš¡</span>
                <span class="stage-title" style="color: #FF6347">POWER GENERATION</span>
            </div>
            <p class="stage-output">Electricity + Spent Fuel</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± 485 MWe PWR, ~4% NL electricity</p>
            </div>
        </div>
        
        <div class="stage-card" style="--stage-color: #708090; --stage-shadow: rgba(112,128,144,0.4)" onclick="showDetails('storage')">
            <div class="stage-header">
                <span class="stage-icon">ğŸ—ï¸</span>
                <span class="stage-title" style="color: #708090">SPENT FUEL STORAGE</span>
            </div>
            <p class="stage-output">Cooled fuel for disposal/reprocessing</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± On-site cooling â†’ La Hague transport</p>
            </div>
        </div>
        
        <div class="stage-card" style="--stage-color: #228B22; --stage-shadow: rgba(34,139,34,0.4)" onclick="showDetails('reprocessing')">
            <div class="stage-header">
                <span class="stage-icon">â™»ï¸</span>
                <span class="stage-title" style="color: #228B22">REPROCESSING</span>
            </div>
            <p class="stage-output">Recycled U & Pu + Vitrified HLW</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± Orano La Hague - 375t reprocessed</p>
            </div>
        </div>
    </div>

    <div class="flow-arrows green">
        <span>â†“ Contracts</span>
        <span>â†“ Spent Fuel</span>
        <span>â†“ Cooled SF</span>
        <span>â†“ Pu/U + HLW</span>
    </div>

    <!-- Row 3: MOX, Waste, Decommissioning -->
    <div class="grid">
        <div class="stage-card" style="--stage-color: #800080; --stage-shadow: rgba(128,0,128,0.4)" onclick="showDetails('mox')">
            <div class="stage-header">
                <span class="stage-icon">ğŸ”„</span>
                <span class="stage-title" style="color: #800080">MOX FUEL PRODUCTION</span>
            </div>
            <p class="stage-output">Mixed Oxide fuel assemblies</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± Licensed for 40% MOX (48/121 assemblies)</p>
            </div>
        </div>
        
        <div class="stage-card" style="--stage-color: #DC143C; --stage-shadow: rgba(220,20,60,0.4)" onclick="showDetails('waste')">
            <div class="stage-header">
                <span class="stage-icon">â˜¢ï¸</span>
                <span class="stage-title" style="color: #DC143C">WASTE MANAGEMENT</span>
            </div>
            <p class="stage-output">Immobilized waste for isolation</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± COVRA/HABOG: 100-year storage</p>
            </div>
        </div>
        
        <div class="stage-card" style="--stage-color: #4B0082; --stage-shadow: rgba(75,0,130,0.4)" onclick="showDetails('decommissioning')">
            <div class="stage-header">
                <span class="stage-icon">ğŸšï¸</span>
                <span class="stage-title" style="color: #4B0082">DECOMMISSIONING</span>
            </div>
            <p class="stage-output">Site restoration (10-60 years)</p>
            <div class="borssele-note borssele-item">
                <p>ğŸ‡³ğŸ‡± Planned post-2033 (license review ongoing)</p>
            </div>
        </div>
        
        <div class="stage-card" style="background: linear-gradient(135deg, #4169E1 0%, #228B22 100%); border-color: #666">
            <div class="stage-header">
                <span class="stage-icon">ğŸ”</span>
                <span class="stage-title" style="color: #fff">CLOSED FUEL CYCLE</span>
            </div>
            <p class="stage-output" style="color: #ddd">MOX returns to reactor for re-use, reducing fresh uranium demand by up to 30%</p>
        </div>
    </div>

    <!-- Detail Panel (hidden by default) -->
    <div id="detail-panel" class="detail-panel"></div>

    <!-- Cost Breakdown -->
    <div class="cost-breakdown">
        <h3>ğŸ’° Nuclear Fuel Cost Breakdown (% of total fuel cost)</h3>
        <div class="cost-bar">
            <div class="cost-segment" style="width: 33%; background: #8B4513;">33%</div>
            <div class="cost-segment" style="width: 5%; background: #2E8B57;">5%</div>
            <div class="cost-segment" style="width: 35%; background: #4169E1;">35%</div>
            <div class="cost-segment" style="width: 17%; background: #9932CC;">17%</div>
            <div class="cost-segment" style="width: 10%; background: #DC143C;">10%</div>
        </div>
        <div class="cost-labels">
            <span style="color: #8B4513;">Mining</span>
            <span style="color: #2E8B57;">Conversion</span>
            <span style="color: #4169E1;">Enrichment</span>
            <span style="color: #9932CC;">Fabrication</span>
            <span style="color: #DC143C;">Back-end</span>
        </div>
        <p class="cost-note">Note: Nuclear fuel represents only 5-10% of total electricity generation cost. Capital costs dominate at ~60-70%.</p>
    </div>

    <!-- Key Statistics -->
    <div class="stat-cards">
        <div class="stat-card">
            <span class="icon">âš›ï¸</span>
            <p class="value">~440</p>
            <p class="label">Operating Reactors Worldwide</p>
        </div>
        <div class="stat-card">
            <span class="icon">âš¡</span>
            <p class="value">~10%</p>
            <p class="label">Global Electricity from Nuclear</p>
        </div>
        <div class="stat-card">
            <span class="icon">ğŸ“¦</span>
            <p class="value">~55,000 tU</p>
            <p class="label">Annual Uranium Production</p>
        </div>
        <div class="stat-card">
            <span class="icon">ğŸ”‹</span>
            <p class="value">3-5 years</p>
            <p class="label">Fuel Cycle in Reactor</p>
        </div>
        <div class="stat-card">
            <span class="icon">â™»ï¸</span>
            <p class="value">96%</p>
            <p class="label">Reusable Material in Spent Fuel</p>
        </div>
        <div class="stat-card">
            <span class="icon">ğŸ—ï¸</span>
            <p class="value">100+ years</p>
            <p class="label">HLW Storage Before Disposal</p>
        </div>
    </div>

    <!-- Legend -->
    <div class="legend">
        <h4>ğŸ”‘ Key Players & Facilities</h4>
        <div class="legend-grid">
            <div class="legend-item"><div class="legend-dot" style="background: #8B4513;"></div><span class="legend-text"><strong>Mining:</strong> Kazatomprom, Cameco, Orano</span></div>
            <div class="legend-item"><div class="legend-dot" style="background: #2E8B57;"></div><span class="legend-text"><strong>Conversion:</strong> Cameco, Orano, ConverDyn</span></div>
            <div class="legend-item"><div class="legend-dot" style="background: #4169E1;"></div><span class="legend-text"><strong>Enrichment:</strong> Urenco, Orano, TENEX, CNNC</span></div>
            <div class="legend-item"><div class="legend-dot" style="background: #9932CC;"></div><span class="legend-text"><strong>Fabrication:</strong> Framatome, Westinghouse, TVEL</span></div>
            <div class="legend-item"><div class="legend-dot" style="background: #228B22;"></div><span class="legend-text"><strong>Reprocessing:</strong> Orano La Hague, Rosatom Mayak</span></div>
            <div class="legend-item"><div class="legend-dot" style="background: #DC143C;"></div><span class="legend-text"><strong>Waste:</strong> COVRA (NL), Posiva (FI), SKB (SE)</span></div>
        </div>
    </div>

    <div class="footer">
        <p>Data sources: World Nuclear Association, IAEA, Cameco, Urenco, Orano, EPZ, COVRA â€¢ Last updated: November 2025</p>
        <p>Click on any stage above to explore detailed information about companies, countries, methods, and costs.</p>
    </div>

    <script>
        const stageData = {
            mining: {
                title: 'URANIUM MINING',
                icon: 'â›ï¸',
                color: '#8B4513',
                output: 'Yellowcake (Uâ‚ƒOâ‚ˆ)',
                companies: ['Kazatomprom (Kazakhstan)', 'Cameco (Canada)', 'Orano (Niger/Kazakhstan)', 'CGN (China)', 'Uranium One (Russia)', 'Paladin Energy (Australia)'],
                countries: ['ğŸ‡°ğŸ‡¿ Kazakhstan (43%)', 'ğŸ‡¨ğŸ‡¦ Canada (15%)', 'ğŸ‡³ğŸ‡¦ Namibia (11%)', 'ğŸ‡¦ğŸ‡º Australia (8%)', 'ğŸ‡ºğŸ‡¿ Uzbekistan (7%)', 'ğŸ‡·ğŸ‡º Russia (5%)', 'ğŸ‡³ğŸ‡ª Niger (4%)'],
                methods: ['In-Situ Recovery (ISR) - 60% global', 'Underground Mining', 'Open Pit Mining'],
                costs: ['ISR: $15-25/lb Uâ‚ƒOâ‚ˆ', 'Conventional: $30-50/lb Uâ‚ƒOâ‚ˆ', 'Spot Price (2025): ~$70-80/lb'],
                details: 'Global production: ~55,000 tonnes U/year. Kazakhstan produces 43% of world supply via ISR. Mining generates ~90% of reactor uranium requirements.',
                borssele: 'Uranium sourced primarily from Kazakhstan via Kazatomprom'
            },
            conversion: {
                title: 'CONVERSION',
                icon: 'ğŸ”¬',
                color: '#2E8B57',
                output: 'Uranium Hexafluoride (UFâ‚†)',
                companies: ['Cameco (Canada - Port Hope)', 'Orano (France - MalvÃ©si/Tricastin)', 'ConverDyn (USA - Metropolis)', 'CNNC (China)', 'Rosatom (Russia - Seversk)'],
                countries: ['ğŸ‡¨ğŸ‡¦ Canada', 'ğŸ‡«ğŸ‡· France', 'ğŸ‡ºğŸ‡¸ USA', 'ğŸ‡¨ğŸ‡³ China', 'ğŸ‡·ğŸ‡º Russia'],
                methods: ['Wet Process (most common)', 'Dry Process (USA)'],
                costs: ['$10-15/kg U as UFâ‚†', '~5% of total fuel cost'],
                details: 'Converts Uâ‚ƒOâ‚ˆ to gaseous UFâ‚† for enrichment. Global capacity: ~75,000 tU/year. Only 5 major conversion facilities worldwide.',
                borssele: 'Conversion performed at Orano facilities in France (Tricastin)'
            },
            enrichment: {
                title: 'ENRICHMENT',
                icon: 'âš›ï¸',
                color: '#4169E1',
                output: 'Low Enriched Uranium (LEU) 3-5% U-235',
                companies: ['Urenco (UK/NL/DE/USA)', 'Orano SET (France)', 'TENEX/Rosatom (Russia)', 'CNNC (China)', 'Centrus (USA - HALEU)'],
                countries: ['ğŸ‡³ğŸ‡± Netherlands (Almelo)', 'ğŸ‡¬ğŸ‡§ UK (Capenhurst)', 'ğŸ‡©ğŸ‡ª Germany (Gronau)', 'ğŸ‡ºğŸ‡¸ USA (New Mexico)', 'ğŸ‡«ğŸ‡· France (Tricastin)', 'ğŸ‡·ğŸ‡º Russia (4 plants)'],
                methods: ['Gas Centrifuge (dominant)', 'Laser Enrichment (emerging)', 'Gaseous Diffusion (obsolete)'],
                costs: ['Centrifuge: ~50 kWh/SWU', '$90-110/SWU (2024-25)', '~30-40% of fuel cost', '~140,000 SWU per 1GW reactor/year'],
                details: 'Natural U: 0.7% U-235 â†’ Enriched to 3-5% for power reactors. Rosatom + CNNC control 62% of global SWU capacity. Western expansion underway.',
                borssele: 'Enrichment at Urenco Almelo (Netherlands) - just 100km from Borssele. Some reprocessed uranium re-enriched in Russia historically.'
            },
            fabrication: {
                title: 'FUEL FABRICATION',
                icon: 'ğŸ”§',
                color: '#9932CC',
                output: 'Fuel Assemblies (PWR: 150-200 per reactor)',
                companies: ['Framatome (France)', 'Westinghouse (USA/Sweden/UK)', 'TVEL (Russia)', 'Global Nuclear Fuel - GNF (USA)', 'KHNP (South Korea)', 'NFI (Japan)'],
                countries: ['ğŸ‡«ğŸ‡· France (Romans)', 'ğŸ‡ºğŸ‡¸ USA (Columbia, Richland)', 'ğŸ‡¸ğŸ‡ª Sweden (VÃ¤sterÃ¥s)', 'ğŸ‡·ğŸ‡º Russia', 'ğŸ‡°ğŸ‡· South Korea', 'ğŸ‡¯ğŸ‡µ Japan'],
                methods: ['UFâ‚† â†’ UOâ‚‚ powder', 'Pellet pressing & sintering', 'Zircaloy cladding', 'Fuel assembly construction'],
                costs: ['$200-400/kg U', '~15-20% of fuel cost', 'PWR assembly: ~$1-2 million'],
                details: 'Fuel assemblies designed for specific reactor types. PWR assemblies: 4m long, 264 fuel rods. 3-5 year cycle life in reactor.',
                borssele: 'Fuel fabricated by Framatome (France). Borssele uses PWR fuel assemblies (121 per core). Approved for MOX fuel (40% of core).'
            },
            trading: {
                title: 'URANIUM MARKET & TRADING',
                icon: 'ğŸ“Š',
                color: '#DAA520',
                output: 'Contracted uranium supply chain',
                companies: ['Cameco', 'Kazatomprom', 'Uranium Energy Corp', 'Sprott Physical Uranium Trust', 'Yellow Cake plc', 'Numerco'],
                countries: ['ğŸŒ Global OTC Market', 'ğŸ‡ºğŸ‡¸ NYSE/NASDAQ', 'ğŸ‡¬ğŸ‡§ LSE', 'ğŸ‡¨ğŸ‡¦ TSX'],
                methods: ['Spot Market (daily pricing)', 'Long-term Contracts (70-80%)', 'Mid-term Contracts', 'Physical investment funds'],
                costs: ['Spot: $70-80/lb (2025)', 'Long-term: $65-75/lb', 'Conversion premium', 'Enrichment SWU pricing'],
                details: 'Utilities typically contract 70-80% through long-term deals (5-15 years). Spot market for 20-30%. Financial investors hold significant inventories.',
                borssele: 'EPZ maintains diversified long-term contracts with multiple suppliers for supply security'
            },
            power: {
                title: 'POWER GENERATION',
                icon: 'âš¡',
                color: '#FF6347',
                output: 'Electricity + Spent Fuel',
                companies: ['EDF (France - 56 reactors)', 'Exelon/Constellation (USA)', 'KEPCO (South Korea)', 'CGN (China)', 'Rosenergoatom (Russia)', 'EPZ (Netherlands)'],
                countries: ['ğŸ‡ºğŸ‡¸ USA (93 reactors)', 'ğŸ‡«ğŸ‡· France (56)', 'ğŸ‡¨ğŸ‡³ China (55+)', 'ğŸ‡·ğŸ‡º Russia (37)', 'ğŸ‡¯ğŸ‡µ Japan (33)', 'ğŸ‡°ğŸ‡· S. Korea (26)', 'ğŸ‡³ğŸ‡± Netherlands (1)'],
                methods: ['PWR (most common)', 'BWR', 'VVER (Russian PWR)', 'CANDU/PHWR', 'AGR'],
                costs: ['Fuel: 5-10% of electricity cost', 'Capacity factor: 85-93%', 'LCOE: $30-50/MWh', 'Refueling: every 12-24 months'],
                details: '~440 reactors globally, ~10% of world electricity. Fuel stays in reactor 3-5 years. Burnup: 40-50 GWd/tU.',
                borssele: 'Borssele NPP: 485 MWe PWR, operational 1973. 90% capacity factor. Produces ~4% of Dutch electricity. License until 2033 (extension under review).'
            },
            storage: {
                title: 'SPENT FUEL STORAGE',
                icon: 'ğŸ—ï¸',
                color: '#708090',
                output: 'Cooled spent fuel for disposal or reprocessing',
                companies: ['On-site at reactors', 'COVRA (Netherlands)', 'SKB (Sweden)', 'Posiva (Finland)', 'Orano (France - La Hague)'],
                countries: ['All reactor countries', 'ğŸ‡«ğŸ‡® Finland (Onkalo - operational 2025)', 'ğŸ‡¸ğŸ‡ª Sweden (Forsmark - construction)', 'ğŸ‡«ğŸ‡· France (CigÃ©o - 2035+)'],
                methods: ['Wet storage (cooling pools) - 5+ years', 'Dry cask storage (ISFSI)', 'Centralized interim storage', 'Deep geological repository'],
                costs: ['Wet storage: $100-200/kg', 'Dry cask: $150-300/kg', 'Geological disposal: $300-1,000/kg'],
                details: 'Spent fuel remains hot/radioactive. Initial 5+ years in pools, then dry casks. ~400,000 tonnes accumulated globally.',
                borssele: 'Spent fuel cooled on-site, then transported to La Hague (France) for reprocessing. Waste returns to COVRA for 100-year storage.'
            },
            reprocessing: {
                title: 'REPROCESSING & RECYCLING',
                icon: 'â™»ï¸',
                color: '#228B22',
                output: 'Recycled U & Pu (MOX fuel) + Vitrified HLW',
                companies: ['Orano (France - La Hague)', 'Rosatom (Russia - Mayak)', 'JNFL (Japan - Rokkasho)', 'Sellafield Ltd (UK - closed 2022)'],
                countries: ['ğŸ‡«ğŸ‡· France (La Hague)', 'ğŸ‡·ğŸ‡º Russia (Mayak)', 'ğŸ‡¯ğŸ‡µ Japan (Rokkasho)', 'ğŸ‡¬ğŸ‡§ UK (Sellafield - decom)'],
                methods: ['PUREX process (plutonium/uranium extraction)', 'Vitrification of HLW', 'MOX fuel fabrication', 'RepU re-enrichment'],
                costs: ['Reprocessing: $2,000-2,500/kg', 'Direct disposal: ~$600/kg', 'MOX fuel: 6x LEU cost', 'Volume reduction: 4-5x'],
                details: 'Recovers 96% reusable material (U & Pu). Reduces HLW volume 4-5x. Only France fully committed to closed cycle. ~2,000 tHM/year capacity.',
                borssele: 'Contract with Orano La Hague until 2015. 375 tonnes reprocessed. Borssele approved for 40% MOX fuel. Reprocessed U re-enriched (historically in Russia).'
            },
            mox: {
                title: 'MOX FUEL PRODUCTION',
                icon: 'ğŸ”„',
                color: '#800080',
                output: 'Mixed Oxide (MOX) fuel assemblies',
                companies: ['Orano (France - Melox)', 'JNFL (Japan)', 'Sellafield MOX (UK - closed)'],
                countries: ['ğŸ‡«ğŸ‡· France (Melox, Marcoule)', 'ğŸ‡¯ğŸ‡µ Japan (Rokkasho)', 'ğŸ‡§ğŸ‡ª Belgium (historically)'],
                methods: ['Blend PuOâ‚‚ + UOâ‚‚', 'Pellet fabrication', 'Assembly manufacture'],
                costs: ['~6x cost of LEU fuel', 'Economically marginal', 'Strategic value for Pu disposition'],
                details: 'Uses recovered plutonium from reprocessing. 1g Pu = 1 tonne oil equivalent. ~20+ reactors licensed for MOX in France. Reduces Pu stockpiles.',
                borssele: 'Borssele licensed for MOX since 2011. Up to 40% MOX loading (48 of 121 assemblies). Uses recovered Pu from La Hague reprocessing.'
            },
            waste: {
                title: 'WASTE MANAGEMENT & DISPOSAL',
                icon: 'â˜¢ï¸',
                color: '#DC143C',
                output: 'Immobilized waste for long-term isolation',
                companies: ['COVRA (Netherlands)', 'Posiva (Finland)', 'SKB (Sweden)', 'ANDRA (France)', 'NAGRA (Switzerland)', 'NWS (USA)'],
                countries: ['ğŸ‡«ğŸ‡® Finland (Onkalo - first repository)', 'ğŸ‡¸ğŸ‡ª Sweden (Forsmark)', 'ğŸ‡«ğŸ‡· France (CigÃ©o)', 'ğŸ‡¨ğŸ‡­ Switzerland', 'ğŸ‡³ğŸ‡± Netherlands (COVRA)'],
                methods: ['Vitrification (glass logs)', 'Cementation', 'Interim surface storage (100 years)', 'Deep geological disposal (500m+)', 'Retrievable storage'],
                costs: ['HLW disposal: $150,000-1M/tHM', 'Interim storage: $2-6B (100 years)', 'Geological repository: $20-50B+'],
                details: 'HLW requires isolation for 100,000+ years. Only Finland has operational deep repository (2025). Most countries use interim storage.',
                borssele: 'COVRA (Nieuwdorp, Borssele municipality) stores all Dutch radioactive waste. HABOG: 100-year HLW storage (bright orange building). Final geological disposal decision by 2100.'
            },
            decommissioning: {
                title: 'DECOMMISSIONING',
                icon: 'ğŸšï¸',
                color: '#4B0082',
                output: 'Brownfield site (released for other use)',
                companies: ['Utility operators', 'Specialized contractors (Westinghouse, Orano, EnergySolutions)', 'National waste agencies'],
                countries: ['All countries with nuclear reactors', '~200 reactors shut down globally'],
                methods: ['Immediate dismantlement (DECON)', 'Safe enclosure/SAFSTOR (40-60 years)', 'Entombment (rare)', 'Phased approach'],
                costs: ['$500M - $2B per reactor', '10-15% of construction cost', 'Funded via electricity fees'],
                details: '~200 reactors shut down, ~20 fully decommissioned. Takes 10-60 years. 95% of material is non-radioactive.',
                borssele: 'Borssele scheduled for shutdown 2033 (may extend). Immediate dismantlement planned post-closure. Dodewaard reactor in SAFSTOR until 2045.'
            }
        };

        function showDetails(stage) {
            const data = stageData[stage];
            const panel = document.getElementById('detail-panel');
            
            panel.innerHTML = `
                <div class="detail-header">
                    <span class="detail-icon">${data.icon}</span>
                    <div>
                        <h2 class="detail-title" style="color: ${data.color}">${data.title}</h2>
                        <p class="detail-subtitle">${data.output}</p>
                    </div>
                </div>
                <div class="info-grid">
                    <div class="info-section">
                        <h4 style="color: ${data.color}">ğŸ¢ Major Companies</h4>
                        <ul>${data.companies.map(c => `<li style="color: ${data.color}">${c}</li>`).join('')}</ul>
                    </div>
                    <div class="info-section">
                        <h4 style="color: ${data.color}">ğŸŒ Key Countries</h4>
                        <ul>${data.countries.map(c => `<li style="color: ${data.color}">${c}</li>`).join('')}</ul>
                    </div>
                    <div class="info-section">
                        <h4 style="color: ${data.color}">âš™ï¸ Methods & Technology</h4>
                        <ul>${data.methods.map(m => `<li style="color: ${data.color}">${m}</li>`).join('')}</ul>
                    </div>
                    <div class="info-section">
                        <h4 style="color: ${data.color}">ğŸ’° Costs & Economics</h4>
                        <ul>${data.costs.map(c => `<li style="color: ${data.color}">${c}</li>`).join('')}</ul>
                    </div>
                </div>
                <div class="key-details">
                    <h4>ğŸ“– Key Details</h4>
                    <p>${data.details}</p>
                </div>
                <div class="borssele-detail borssele-item">
                    <h4>ğŸ‡³ğŸ‡± Borssele NPP Case Study</h4>
                    <p>${data.borssele}</p>
                </div>
            `;
            
            panel.style.borderColor = data.color;
            panel.classList.add('active');
            panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function closeDetails() {
            document.getElementById('detail-panel').classList.remove('active');
        }

        function toggleBorssele() {
            const items = document.querySelectorAll('.borssele-item');
            const banner = document.getElementById('borssele-banner');
            const isHidden = banner.style.display === 'none';
            
            banner.style.display = isHidden ? 'flex' : 'none';
            items.forEach(item => {
                item.style.display = isHidden ? 'block' : 'none';
            });
        }
    </script>
</body>
</html>
